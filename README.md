# PLY Viewer - 3Dトリミング機能付きビューワー

WebベースのPLYファイル3Dビューワーです。直感的な箱型マニピュレーターを使用してXYZ軸でのトリミング機能を提供します。

## 機能

### 基本機能
- **PLYファイル読み込み**: ASCII/Binary両対応、ドラッグ&ドロップまたはファイル選択
- **3Dモデル表示**: ポイントクラウドとサーフェス表示の切り替え
- **3Dナビゲーション**: マウスでの回転、ズーム、パン操作

### トリミング機能
- **箱型マニピュレーター**: 3D空間での直感的なトリミング範囲設定
  - 🔴 面ハンドル: 単軸移動
  - 🔵 エッジハンドル: 二軸同時移動  
  - 🟡 頂点ハンドル: 三軸同時移動
- **リアルタイムプレビュー**: トリミング範囲外を30%透明で表示
- **トリミング実行**: 範囲外の頂点を完全除去

## 使用方法

1. **ファイル読み込み**
   - PLYファイルをドラッグ&ドロップ
   - または「PLYファイル選択」ボタンをクリック

2. **表示モード切り替え**
   - 「ポイント表示」「サーフェス表示」ボタンで切り替え

3. **トリミング操作**
   - 「トリミング箱表示」でマニピュレーター表示
   - ハンドルをドラッグして範囲調整
   - 「トリミング実行」で確定

4. **リセット**
   - 「リセット」ボタンで元の状態に復元

## 操作方法

### 3Dナビゲーション
- **回転**: 左クリックドラッグ
- **ズーム**: マウスホイール
- **パン**: 右クリックドラッグ

### マニピュレーター操作
- **面ハンドル** (赤): 単一軸方向に移動
- **エッジハンドル** (青): 2軸同時移動
- **頂点ハンドル** (黄): 3軸同時移動

## 技術仕様

### 対応ブラウザ
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### ファイル制限
- 最大ファイルサイズ: 100MB
- 推奨頂点数: 100万以下

### 技術スタック
- **Three.js r160**: 3Dレンダリング
- **HTML5/CSS3**: UI
- **Vanilla JavaScript ES6+**: アプリケーションロジック

## ファイル構成

```
plyViewer/
├── index.html              # メインHTML
├── app.js                  # メインアプリケーション
├── trimbox-manipulator.js  # トリミング箱マニピュレーター
├── realtime-preview.js     # リアルタイムプレビュー
└── README.md              # このファイル
```

## 起動方法

1. プロジェクトディレクトリで以下を実行:
```bash
# Python 3を使用する場合
python -m http.server 8000

# Node.jsのhttp-serverを使用する場合
npx http-server
```

2. ブラウザで http://localhost:8000 にアクセス

## 注意事項

- WebGLに対応したブラウザが必要です
- 大容量のPLYファイルは読み込みに時間がかかる場合があります
- メモリ使用量が多いため、4GB以上のRAMを推奨します